<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WiFi Setup</title>
    <link rel="stylesheet" href="styles.css">
    <script>

        function validateForm(event) {
            // Prevent form submission
            event.preventDefault();
            document.getElementById('email-error').style.display = 'none';
            document.getElementById('pass-error').style.display = 'none';
            let isValid = true;
            let email = document.getElementById('user_email').value.trim();
            let pass = document.getElementById('user_pass').value.trim();

            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email || email === '') {
                document.getElementById('email-error').textContent = 'Please enter the email address';
                document.getElementById('email-error').style.display = 'block';
                isValid = false;
            } else if (!emailRegex.test(email)) {
                document.getElementById('email-error').textContent = 'Please enter a valid email address';
                document.getElementById('email-error').style.display = 'block';
                isValid = false;
            }

            if (!pass || pass === '') {
                document.getElementById('pass-error').style.display = 'block';
                isValid = false;
            }
            if (isValid) {
                document.forms['cloudConfigForm'].submit();
            }
        }


    </script>
</head>

<body>
    <div class="container">
        <h2>Please enter you LaMarzocco Cloud credentials</h2>
        <form action='/cloudConfig' method='POST' name="cloudConfigForm">

            <input type="text" class="input_text" id="user_email" name="user_email" placeholder="Email Address">
            <div id="email-error" style="color: red; font-size: 14px; display: none; margin-top: 5px;">Please enter the
                email Address</div>

            <input type="password" class="input_text" id="user_pass" name="user_pass" placeholder="password">
            <div id="pass-error" style="color: red; font-size: 14px; display: none; margin-top: 5px;">Please enter the
                Password</div>
            <button type="button" onclick="validateForm(event)">Connect</button>
        </form>
    </div>
</body>

</html>